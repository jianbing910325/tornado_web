{% extends "main.html" %}
{% block css %}
<link href="{{ static_url('css/DT_bootstrap.css') }}" rel="stylesheet" media="screen">
{% end %}
{% block content %}
<div class="row-fluid">
	<div class="block">
		<div class="navbar navbar-inner block-header">
			<div class="muted pull-left">{{ page }}</div>
		</div>
		<div class="block-content collapse in">
			<div class="span12">
				<div class="table-toolbar">
					<div class="btn-group">
						<a href="/host/add">
							<button class="btn btn-success">
								添加主机
								<i class="icon-plus icon-white"></i>
							</button>
						</a>
					</div>
					<div class="btn-group pull-right">
						<button data-toggle="dropdown" class="btn dropdown-toggle">
							导出工具
							<span class="caret"></span>
						</button>
						<ul class="dropdown-menu">
							<li class="divider"></li>
							<li>
								<a href="#"
									onClick="$('#example').tableExport({type:'png',escape:'false'});">
									<img src="{{ static_url('img/png.png') }}" width='24px'>
									PNG
								</a>
							</li>
							<li>
								<a href="#"
									onClick="$('#example').tableExport({type:'pdf',escape:'false'});">
									<img src="{{ static_url('img/pdf.png') }}" width='24px'>
									PDF
								</a>
							</li>
						</ul>
					</div>
				</div>

				<table cellpadding="0" cellspacing="0" border="0"
					class="table table-striped table-bordered table-hover table-condensed table-responsive" id="example">
					<thead>
						<tr>
							{% for i in thead %}
							<th style="text-align: center;">{{ i }}</th>
							{% end %}
						</tr>
					</thead>
					<tbody>
						{% for i in tbody %}
						<tr>
							<td style="text-align: center;">{{ i['id'] }}</td>
							<td style="text-align: center;"><a href="/host/edit?id={{ i['id'] }}">{{ i['host_name'] }}</a></td>
							<td style="text-align: center;">{{ i['host_code'] }}</td>
							<td style="text-align: center;">{{ i['host_ip'] }}</td>
							<td style="text-align: center;">{{ i['host_group'] }}</td>
							<td style="text-align: center;">{{ i['version_sys'] }}</td>
						</tr>
						{% end %}
					</tbody>
				</table>
			</div>
		</div>
	</div>
</div>
{% end %}
{% block script %}
        <script src="{{ static_url('js/jquery.dataTables.min.js') }}"></script>
        <script src="{{ static_url('js/DT_bootstrap.js') }}"></script>
        <script src="{{ static_url('js/tableExport/tableExport.js') }}"></script>
        <script src="{{ static_url('js/tableExport/jquery.base64.js') }}"></script>
        <script src="{{ static_url('js/tableExport/html2canvas.js') }}"></script>
        <script src="{{ static_url('js/tableExport/jspdf/jspdf.js') }}"></script>
        <script src="{{ static_url('js/tableExport/jspdf/libs/base64.js') }}"></script>
        <script src="{{ static_url('js/tableExport/jspdf/libs/sprintf.js') }}"></script>
{% end %}
